{% extends "base.html" %}

{% block content %}
  <h1>Car List</h1>
  <table class="table">
    <thead class="sticky-thead">
      <tr>
        <th scope="col">id</th>
        <th scope="col">Model</th>
        <th scope="col">Manufacturer</th>
        <th scope="col">Drivers</th>
      </tr>
    </thead>
    <tbody class="table-group-divider">
      {% for car in car_list %}
        <tr>
          <th scope="row"><a href="{% url 'taxi:car-detail' pk=car.pk %}">{{ car.id }}</a></th>
          <td>{{ car.model }}</td>
          <td>{{ car.manufacturer.name }}</td>
          <td>{% for driver in car.drivers.all %}
            <a href="{% url 'taxi:driver-detail' pk=driver.pk %}">{{ driver.first_name }}</a>,
          {% endfor %}</td>
        </tr>
      {% empty %}
        Table is empty
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
