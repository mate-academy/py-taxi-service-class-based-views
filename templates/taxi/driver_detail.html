{% extends "base.html" %}

{% block title %}<title>Driver info</title>{% endblock %}

{% block content %}
  <h2>Driver: {{ driver.first_name }} {{ driver.last_name }}</h2>
  <table>
    <tr>
      <th>Username</th>
      <th>First name</th>
      <th>Last name</th>
      <th>Email</th>
      <th>Date Joined</th>
      <th>Last Activity</th>
      <th>License</th>
    </tr>

    <tr>
      <td>{{ driver.username }}</td>
      <td>{{ driver.first_name }}</td>
      <td>{{ driver.last_name }}</td>
      <td>{{ driver.email }}</td>
      <td>{{ driver.date_joined }}</td>
      <td>{{ driver.last_login }}</td>
      <td>{{ driver.license_number }}</td>
    </tr>
  </table>

  {% if driver.cars.all %}
    <div>
      <h3>Cars of {{ driver.first_name }}:</h3>
      <table>
        <tr>
          <th>Model</th>
          <th>Brand</th>
          <th>Country of registration of the brand</th>
        </tr>
        {% for car in driver.cars.all %}
          <tr>
            <td><a href={% url 'taxi:car-detail' pk=car.id %}>{{ car.model }}</a></td>
            <td>{{ car.manufacturer.name }}</td>
            <td>{{ car.manufacturer.country }}</td>
          </tr>
        {% endfor %}
      </table>
    </div>
  {% else %}
    <p>There are no cars yet!</p>
  {% endif %}
{% endblock %}
